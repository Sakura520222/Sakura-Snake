# 贪吃蛇游戏

这是一个经典的贪吃蛇游戏实现，使用HTML、CSS和JavaScript开发。游戏具有丰富的功能和特色，支持多种难度级别和游戏模式，提供AI辅助功能，并针对移动端进行了优化。

## 🎮 最新更新

- **一键打包功能**：支持将网页游戏打包为独立的Windows EXE应用程序
- **资源内嵌技术**：所有游戏资源文件已内嵌到EXE中，无需额外文件
- **自定义图标**：自动生成贪吃蛇主题的像素风格图标
- **全新响应式布局**：设置界面在桌面端显示在右侧，游戏画布居中
- **移动端优化**：在手机设备上，设置界面自动移到上方，提供更好的操作体验
- **现代化UI设计**：采用卡片式布局，支持深色背景和毛玻璃效果

## 项目示例

在线演示地址：[https://tcs.firefly520.top](https://tcs.firefly520.top)

## 目录结构

```
├── index.html          # 游戏主页面
├── game.js            # 游戏逻辑实现
├── styles.css         # 游戏样式
├── main.py            # Python主程序（用于打包）
├── auto_pack.py       # Python一键打包脚本
├── 一键打包.bat        # Windows批处理一键打包脚本
├── create_icon.py     # 图标生成脚本
├── game_icon.ico      # 游戏图标文件
├── requirements.txt   # Python依赖包列表
├── README.md          # 项目说明文档
├── 打包说明.txt        # 打包详细说明
├── 游戏说明.txt        # 游戏玩法说明
├── dist/              # 打包输出目录
│   └── Sakura-tcs-game.exe  # 最终的可执行文件
└── build/             # 临时构建文件（可删除）
```

## 功能特点

### 🎯 核心游戏功能
- 经典贪吃蛇游戏玩法
- 键盘方向键控制蛇的移动
- 实时显示得分和游戏时间
- 碰撞检测（墙壁和自身）
- 四种难度级别（包括疯狂模式）
- 两种游戏模式（正常模式和穿墙模式）

### 🎮 高级功能
- AI辅助功能
- 速度控制滑块
- 紧急寻食机制
- 循环检测
- 多食物生成
- 玩法说明弹窗

### 📱 界面与布局
- **响应式布局设计**：桌面端设置界面在右侧，移动端设置界面在上方
- 简洁美观的现代化UI设计
- 移动端适配，支持触摸控制
- 毛玻璃效果和渐变背景
- 卡片式布局设计

## 文件说明

- `index.html`: 游戏主页面，包含游戏画布和基本结构
- `game.js`: 核心游戏逻辑，包括蛇的移动、食物生成、碰撞检测等
- `styles.css`: 游戏界面样式，美化游戏外观
- `游戏说明.txt`: 详细的游戏玩法说明

## 运行环境

- 现代浏览器（Chrome, Firefox, Safari等）
- 支持JavaScript

## 如何运行

### 🌐 网页版运行
- 直接双击 `index.html` 文件，或将项目文件放在Web服务器中访问

### 💻 桌面版运行（一键打包）

#### 方法一：使用批处理脚本（最简单）
```bash
双击运行 "一键打包.bat"
```

#### 方法二：使用Python脚本
```bash
python auto_pack.py
```

#### 方法三：手动打包（高级用户）
```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 生成图标（可选）
python create_icon.py

# 3. 打包为EXE
python -m PyInstaller --onefile --windowed --name "Sakura-tcs-game" --icon "game_icon.ico" --add-data "index.html;." --add-data "styles.css;." --add-data "game.js;." main.py
```

打包完成后，在 `dist` 文件夹中找到 `Sakura-tcs-game.exe`，双击即可运行游戏。

## 游戏操作

### 🎮 控制方式
- **桌面端**：方向键 ↑ ↓ ← → 控制蛇的移动方向
- **移动端**：点击屏幕下方的方向按钮进行控制
- **通用**：空格键暂停/继续游戏

### 🖥️ 界面布局说明
- **桌面端布局**：游戏画布居中显示，设置界面位于右侧
- **移动端布局**：设置界面显示在上方，游戏画布在下方
- **响应式设计**：根据屏幕尺寸自动调整布局

### 难度级别

游戏提供四种难度级别：

1. 难度1（简单）：基础速度
2. 难度2（中等）：较快速度
3. 难度3（困难）：快速度
4. 疯狂模式：最高速度，具有挑战性

### 游戏模式

游戏提供两种模式：

1. 正常模式：蛇撞到墙壁会死亡
2. 穿墙模式：蛇可以穿过墙壁从另一边出现

### 其他功能

- **AI辅助**：可以开启AI模式让程序自动控制蛇的移动
- **速度控制**：提供速度滑块，范围从50（快速）到300（慢速）
- **计时器**：游戏过程中会记录并显示已用时间
- **紧急寻食机制**：当长时间未吃到食物时，游戏会进入紧急寻食状态
- **循环检测**：AI能检测到重复移动模式并自动调整路径
- **多食物生成**：根据难度级别和得分情况生成不同数量的食物
- **移动端适配**：在移动设备上显示方向控制按钮

## 开发说明

本项目完全使用前端技术开发，无需后端支持。游戏逻辑在`game.js`中实现，使用Canvas API进行渲染。

### 技术实现
- **游戏引擎**：原生JavaScript + Canvas API
- **布局技术**：CSS Flexbox + 响应式设计
- **移动端适配**：CSS媒体查询 + 触摸事件处理
- **UI效果**：CSS渐变、阴影、毛玻璃效果

### 布局实现
- 使用CSS `order`属性实现桌面端和移动端的布局切换
- 通过媒体查询（`@media (max-width: 600px)`）检测移动设备
- 桌面端：设置界面在右侧（order: 2），游戏画布在左侧（order: 1）
- 移动端：设置界面在上方（order: 1），游戏画布在下方（order: 2）

## 🚀 一键打包功能

### 打包特性
- **完全独立**：EXE文件包含所有依赖，无需安装Python环境
- **资源内嵌**：HTML、CSS、JS资源文件已内嵌到EXE中
- **自定义图标**：自动生成贪吃蛇主题的像素风格图标
- **窗口模式**：无控制台窗口，提供更好的用户体验
- **跨平台兼容**：可在任何Windows电脑上运行

### 打包文件说明

#### 核心打包文件
- `main.py`：Python主程序，使用pywebview加载网页游戏
- `auto_pack.py`：Python版本一键打包脚本，提供详细进度显示
- `一键打包.bat`：Windows批处理脚本，双击即可运行
- `create_icon.py`：图标生成脚本，创建贪吃蛇主题图标
- `requirements.txt`：Python依赖包列表

#### 输出文件
- `dist/Sakura-tcs-game.exe`：最终的可执行文件（约13MB）
- `game_icon.ico`：游戏图标文件（自动生成）

### 打包流程
1. **环境检查**：验证Python环境和游戏文件完整性
2. **依赖安装**：自动安装pywebview、pyinstaller、Pillow等依赖
3. **图标生成**：创建贪吃蛇主题的像素风格图标
4. **EXE打包**：使用PyInstaller打包为独立应用程序
5. **资源内嵌**：将游戏资源文件内嵌到EXE中

### 使用优势
- **便携性**：单个EXE文件即可运行，无需安装
- **易分发**：可复制到任何Windows电脑使用
- **专业外观**：自定义图标和窗口标题
- **即开即玩**：双击即可启动游戏

### 注意事项
- 打包过程需要网络连接下载依赖包
- EXE文件可能被某些杀毒软件误报，请添加信任
- 首次运行可能需要几秒钟加载时间
- 确保磁盘空间充足（需要约100MB临时空间）

### 技术支持
如有打包问题，请参考 `打包说明.txt` 文件或检查：
- Python版本是否符合要求（Python 3.6+）
- 网络连接是否正常
- 磁盘空间是否充足
- 所有游戏文件是否完整

打包完成后，享受您的独立贪吃蛇游戏吧！ 🎮✨
